ヘルプデスク業務では、専門知識の理解、情報収集、回答品質の確保など、多岐にわたる課題が存在します。幸いなことにこれらの課題の多くはLLMが得意とする分野です。LLMは複雑な自然言語を理解し、文脈に応じた適切な回答を生成できる能力を持っています。また、大量の情報を効率的に処理し、必要な情報を素早く抽出して整理することも可能です。 　これらのLLMの特性と１章で紹介したAIエージェントの自律性を活かすことで、ヘルプデスク業務の効率化と品質向上を実現できます。

Plan-and-Execute 型エージェントの概要 　Plan-and-Execute型エージェントはBabyAGI*3やPlan-and-Solve Prompting*4の論文から着想を得たAIエージェントの実装方法です。 　Plan-and-Execute型エージェントはLLMに直接質問を入力して回答を得るのではなく、図4.3のようにまず問題をいくつかの小さな問題に分割（計画）し、それぞれを個別に解決（行動）していくことで最終的な回答を得る方法です。 　この推論戦略は分割統治法（divide-and-conquer method）と呼ばれ、アルゴリズム設計の分野でも利用される手法の一つです。分割統治法は、元の問題をより管理しやすい小さな問題に分割し、それぞれの問題を解いて最後に統合することで元の問題を解くアプローチです。 　AIエージェントでもこの手法を取り入れることにより、多くのタスクにおいて性能が向上することが示されています*5 *6。 　この手法には以下のような利点があります。 1. 複雑な入力への対応 ・事前の計画ステップで入力を細分化し、それぞれに対して行動を行い結果を取得するため入力内容が複雑なケースに対応可能になる。 2. プロンプト設計の柔軟性 ・最終的な結果を出力するまでのステップを分けることで、各ステップでプロンプトを個別に調整できる。 ・プロンプト変更による影響を局所化できるため、デグレード（精度低下）リスクを抑えやすい。 3. 保守性の向上 ・計画ステップの出力を維持しつつ、実行ステップのプロンプトだけを変更できるため、運用上の修正が容易となり、デバッグや改善の際に手戻りが少ない。 　これらの利点はヘルプデスク業務の課題を解決する上で有効に働きます。たとえば計画ステップを設けることで複数の質問事項が含まれる問い合わせに対しても対応可能になります。また、最終的な回答を生成するプロンプトは計画や行動ステップと分けることができるため、最終的な問い合わせ回答の表現についても細かな調整が容易です。 　ここで改めて理解しておきたいのは、Plan-and-Execute型のAIエージェントは、最初に計画を立てて複雑なタスクを実行可能な小さなサブタスクに分解する考え方を示しているだけであるということです。その前後の処理に関してはさまざまなアプローチが可能です。たとえば、どのようなツールをどれくらい持たせるか、実行結果をどのように扱うかは必要に応じて変えることができます。 　本章ではヘルプデスク業務にPlan-and-Execute型のAIエージェントを採用していますが、この構成は他の業務やタスクにも適用できます。


本章で紹介するAIエージェントはPlan-and-Execute型のAIエージェント構成を参考に図4.4のような構成をとります。LangChainから紹介されたPlan-and-Execute型エージェントと区別するために、以降では計画実行型エージェントと呼びます*7。 　全体の流れは表4.2の通りです。 　今回の構築はヘルプデスクの実務適用を意識しつつ、AIエージェントの構成を理解しやすく、カスタマイズしやすいものにすることを目指しています*8。主なポイントは以下の３つです。 1. 計画をやり直さないこと 2. サブタスク間に依存関係を持たせないこと 3. サブタスクに自己修正を適用していること
